<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./css/style.css">
    <link href="./css/video-js.css" rel="stylesheet">
    <link rel="shortcut icon" href="./assets/icon-192.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="./assets/apple-touch-icon.png">
    <link rel="manifest" href="manifest.webmanifest">
    <script src="https://unpkg.com/video.js@7.0.0/dist/alt/video.core.min.js"></script>
    <title>EnjoyTV!</title>
</head>
<body>
    <div class="loader position-absolute top-50 start-50 translate-middle">
        <h1 class="title-page">EnjoyTV!</h1>
    </div>
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Where are you from?</h5>
                </div>
                <div class="modal-body">
                    <select class="form-select form-select-sm" aria-label=".form-select-sm example" id="selectCountry">
                        <option selected>Country (only Italy works)</option>
                        <option value="Italy">ðŸ‡®ðŸ‡¹Italy</option>
                        <option value="Uk">ðŸ‡¬ðŸ‡§UK</option>
                        <option value="Usa">ðŸ‡ºðŸ‡¸USA</option>
                        <option value="3">Other</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick='loadChannels(document.getElementById("selectCountry").value)'>Select</button>
                </div>
            </div>
        </div>
    </div>
    <nav class="navbar fixed-top" id="top">
        <div class="container-fluid justify-content-center">
            <div class="navbar-brand">
                <img src="./assets/favicon.svg" alt="logo" width="30" height="30" class="d-inline-block" />
                <span class="title-page">EnjoyTV!</span>
            </div>
        </div>
    </nav>
    <section id="channel-section" class="">
        <div id="channels" class="container-channels d-flex align-content-center flex-wrap"></div>
    </section>
    <section id="settings-section">
        <h1>Settings</h1>
        <div id="settings">
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" name="theme" id="modeWindow">
                <label class="form-check-label" for="modeWindow" id="labelMode"><i class="bi bi-brightness-high-fill"></i></label>
            </div>
        </div>
    </section>
    <nav class="navbar fixed-bottom" id="bottom">
        <div class="container-fluid d-flex justify-content-evenly">
          <div onclick="content('home')" class="navbar-brand" href="#"><i class="bi bi-house-fill"></i></div>
          <div onclick="content('settings')" class="navbar-brand" href="#"><i class="bi bi-gear-fill"></i></div>
        </div>
    </nav>
    <!--
    <video id=stream class="video-js vjs-default-skin position-absolute top-50 start-50 translate-middle" controls>
        <source
           src="https://mediapolis.rai.it/relinker/relinkerServlet.htm?cont=2606803"
           type="application/x-mpegURL">
      </video> -->
      <script src="video.js"></script>
      <script src="videojs-contrib-hls.min.js"></script>
      <script>
      var player = videojs('stream');
      player.play();
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/5.15.0/videojs-contrib-hls.min.js" integrity="sha512-R1+Pgd+uyqnjx07LGUmp85iW8MSL1iLR2ICPysFAt8Y4gub8C42B+aNG2ddOfCWcDDn1JPWZO4eby4+291xP9g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="./script/index.js"></script>
    <script src="./service-worker.js"></script>

    <script type="module">

        if (!localStorage.noFirstVisit) {
            var myModal = new bootstrap.Modal(document.getElementById('staticBackdrop'), {
            keyboard: false
            })
            var modalToggle = document.getElementById('staticBackdrop') // relatedTarget
            myModal.show(modalToggle)
        }
        localStorage.noFirstVisit = true
    </script>
    <script>
        function collapse(close) {
            var elementCollapse = document.querySelector(close)
            var bsCollapse = new bootstrap.Collapse(elementCollapse, {
                toggle: true
            })
        }
    </script>
</body>
</html>